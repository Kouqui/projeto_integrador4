<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Fut360</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

  <link rel="stylesheet" th:href="@{/css/dashboard_style.css}">
</head>
<body>

<div class="dashboard-container">
  <aside class="sidebar">
    <div class="sidebar-header">
      <img th:src="@{/images/logo_fut_360.png}" alt="Logo Fut360" class="sidebar-logo">
      <h1 class="sidebar-title">Fut360</h1>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <li class="active"><a th:href="@{/dashboard}"><i class='bx bxs-dashboard'></i><span>Dashboard</span></a></li>
        <li><a th:href="@{/financeiro}"><i class='bx bx-dollar-circle'></i><span>Financeiro</span></a></li>
        <li><a th:href="@{/calendario}"><i class='bx bx-calendar'></i><span>Calendário</span></a></li>
        <li><a th:href="@{/atletas}"><i class='bx bx-run'></i><span>Atletas</span></a></li>
        <li><a th:href="@{/relatorios}"><i class='bx bxs-report'></i><span>Relatórios</span></a></li>
      </ul>
    </nav>
    <div class="sidebar-footer">
      <a href="#"><i class='bx bx-cog'></i><span>Configurações</span></a>
    </div>
  </aside>

  <main class="main-content">
    <header class="header">
      <div class="header-title">
        <h2>Dashboard</h2>
        <p>Visão geral do seu clube</p>
      </div>
      <div class="user-info">
        <span>Kauê Farias</span>
        <div class="user-avatar">K</div>
        <button class="logout-btn"><i class='bx bx-log-out'></i></button>
      </div>
    </header>

    <section class="dashboard-grid">
      <div class="card"><div class="card-header"><h3><i class='bx bx-wallet'></i> Saldo em Caixa</h3></div><div class="card-body"><p class="financial-value positive" th:text="${'R$ ' + #numbers.formatDecimal(dashboard.financeiroResumo.saldoCaixa, 1, 'POINT', 2, 'COMMA')}">R$ 1.250.780,50</p><span class="card-comparison" th:text="${dashboard.financeiroResumo.percentualComparacao + ' vs. mês anterior'}">+5.2% vs. mês anterior</span></div></div>
      <div class="card"><div class="card-header"><h3><i class='bx bx-money-withdraw'></i> Folha Salarial (Mês)</h3></div><div class="card-body"><p class="financial-value negative" th:text="${'R$ ' + #numbers.formatDecimal(dashboard.financeiroResumo.folhaSalarial, 1, 'POINT', 2, 'COMMA')}">R$ 450.000,00</p><span class="card-comparison" th:text="${dashboard.financeiroResumo.infoVencimento}">Vencimento em 5 dias</span></div></div>
      <div class="card card-large">
        <div class="card-header">
          <h3><i class='bx bx-calendar-event'></i> Próximos Eventos</h3>
          <a th:href="@{/calendario}" class="card-action-link">Ver Calendário Completo</a>
        </div>
        <div class="card-body">
          <ul class="event-list-new">
            <li th:each="evento : ${dashboard.proximosEventos}" class="event-item-new">
              <div class="event-date-badge" th:classappend="${'badge-' + evento.categoria}">
                <span class="event-day" th:text="${evento.dia}">15</span>
                <span class="event-month" th:text="${evento.mes}">OUT</span>
              </div>
              <div class="event-info">
                <h4 class="event-title" th:text="${evento.titulo}">Jogo: Fut360 FC vs. Adversário FC</h4>
                <p class="event-description" th:text="${evento.descricao}">Campeonato Estadual - 19:00h - Estádio Principal</p>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div class="card card-full-width">
        <div class="card-header">
          <h3><i class='bx bx-line-chart'></i> Desempenho Recente no Treino</h3>
          <a href="#" class="card-action-link">Ver Relatório Completo</a>
        </div>
        <div class="card-body">
          <table class="performance-table">
            <thead>
            <tr>
              <th>Jogador</th>
              <th>Posição</th>
              <th>Nota do Treino</th>
              <th>Desempenho Físico</th>
              <th>Tendência</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="atleta : ${dashboard.desempenhoAtletas}">
              <td><div class="player-cell"><img th:src="${atleta.photoUrl}" th:alt="${atleta.nome}"><div class="player-cell-info"><span th:text="${atleta.nome}">Gabriel Reis</span><p th:text="${atleta.categoria}">Profissional</p></div></div></td>
              <td th:text="${atleta.posicao}">Atacante</td>
              <td><span class="rating-badge" th:classappend="${atleta.notaClass}" th:text="${#numbers.formatDecimal(atleta.notaTreino, 1, 1)}">10.0</span></td>
              <td><div class="performance-bar-container"><div class="performance-bar" th:style="${'width: ' + atleta.desempenhoFisicoPercentual + '%;'}"></div></div></td>
              <td><div class="trend-icon" th:classappend="${'trend-' + atleta.tendencia}"><i class='bx' th:classappend="${atleta.tendencia == 'up' ? 'bxs-up-arrow' : (atleta.tendencia == 'down' ? 'bxs-down-arrow' : 'bxs-minus-square')}"></i></div></td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <footer class="footer">
      <p><strong>Projeto Integrador - Fut360</strong></p>
      <p>Kauê Farias (24788788) | Guilherme Braz (24019760) | Henrique Aguiar (24013855) | Kauã Kouqui (24027746) | Jerfferson Andrey (24017498)</p>
    </footer>
  </main>
</div>

</body>
</html>