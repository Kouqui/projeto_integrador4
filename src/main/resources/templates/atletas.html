<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atletas - Fut360</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <link rel="stylesheet" th:href="@{/css/atletas_style.css}">
</head>
<body>
<div class="dashboard-container">
    <aside class="sidebar">
        <div class="sidebar-header">
            <img th:src="@{/images/logo_fut_360.png}" alt="Logo Fut360" class="sidebar-logo">
            <h1 class="sidebar-title">Fut360</h1>
        </div>
        <nav class="sidebar-nav">
            <ul>
                <li><a th:href="@{/dashboard}"><i class='bx bxs-dashboard'></i><span>Dashboard</span></a></li>
                <li><a th:href="@{/financeiro}"><i class='bx bx-dollar-circle'></i><span>Financeiro</span></a></li>
                <li><a th:href="@{/calendario}"><i class='bx bx-calendar'></i><span>Calendário</span></a></li>
                <li class="active"><a th:href="@{/atletas}"><i class='bx bx-run'></i><span>Atletas</span></a></li>
                <li><a th:href="@{/relatorios}"><i class='bx bxs-report'></i><span>Relatórios</span></a></li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <a href="#"><i class='bx bx-cog'></i><span>Configurações</span></a>
        </div>
    </aside>

    <main class="main-content">
        <header class="header">
            <div class="header-title">
                <h2>Gestão de Atletas</h2>
                <p>Visualize e gerencie o elenco do seu clube</p>
            </div>
            <div class="user-info">
                <span>Kauê Farias</span>
                <div class="user-avatar">K</div>
                <button class="logout-btn"><i class='bx bx-log-out'></i></button>
            </div>
        </header>

        <div class="controls-bar">
            <div class="search-filter-group">
                <div class="search-bar">
                    <i class='bx bx-search'></i>
                    <input type="text" placeholder="Buscar atleta por nome...">
                </div>
                <select><option>Todas Categorias</option><option>Profissional</option><option>Sub-20</option></select>
                <select><option>Todas Posições</option><option>Goleiro</option><option>Zagueiro</option><option>Meio-campo</option><option>Atacante</option></select>
            </div>
            <button class="btn-primary" id="add-athlete-btn"><i class='bx bx-plus'></i> Adicionar Atleta</button>
        </div>

        <section class="athlete-grid" th:unless="${#lists.isEmpty(atletas)}">

            <div class="athlete-card"
                 th:each="atleta : ${atletas}"
                 th:data-name="${atleta.name}"
                 th:data-position="${atleta.position}"
                 th:data-category="${atleta.category}"
                 th:data-photo="${atleta.photo}"
                 th:data-fullname="${atleta.fullname}"
                 th:data-birthdate="${atleta.birthdate}"
                 th:data-age="${atleta.age}"
                 th:data-nationality="${atleta.nationality}"
                 th:data-height="${atleta.height}"
                 th:data-weight="${atleta.weight}"
                 th:data-foot="${atleta.foot}"
                 th:data-games="${atleta.games}"
                 th:data-minutes="${atleta.minutes}"
                 th:data-goals="${atleta.goals}"
                 th:data-assists="${atleta.assists}"
                 th:data-yellow="${atleta.yellow}"
                 th:data-red="${atleta.red}"
                 th:data-meta1="${atleta.meta1}"
                 th:data-meta2="${atleta.meta2}"
                 th:data-observation="${atleta.observation}"
                 th:data-salary="${atleta.salary}"
                 th:data-contract-start="${atleta.contractStart}"
                 th:data-contract-end="${atleta.contractEnd}"
                 th:data-release-clause="${atleta.releaseClause}"
                 th:data-treino-nota-geral="${atleta.treinoNotaGeral}"
                 th:data-treino-nota-tatica="${atleta.treinoNotaTatica}"
                 th:data-treino-nota-tecnica="${atleta.treinoNotaTecnica}"
                 th:data-treino-nota-fisica="${atleta.treinoNotaFisica}"
                 th:data-treino-passes-certos="${atleta.treinoPassesCertos}"
                 th:data-treino-passes-total="${atleta.treinoPassesTotal}"
                 th:data-treino-chutes-certos="${atleta.treinoChutesCertos}"
                 th:data-treino-chutes-total="${atleta.treinoChutesTotal}"
                 th:data-treino-dribles-certos="${atleta.treinoDriblesCertos}"
                 th:data-treino-dribles-total="${atleta.treinoDriblesTotal}"
                 th:data-treino-desarmes="${atleta.treinoDesarmes}"
                 th:data-treino-interceptacoes="${atleta.treinoInterceptacoes}"
                 th:data-treino-km-percorridos="${atleta.treinoKmPercorridos}"
                 th:data-treino-velocidade-max="${atleta.treinoVelocidadeMax}"
                 th:data-treino-sprints="${atleta.treinoSprints}">

                <img th:src="${atleta.photo}" th:alt="'Foto de ' + ${atleta.name}" class="athlete-photo">
                <h3 class="athlete-name" th:text="${atleta.name}">Nome do Atleta</h3>
                <p class="athlete-info" th:text="${atleta.position}">Posição</p>
                <span class="athlete-category" th:text="${atleta.category}">Categoria</span>
            </div>
        </section>
    </main>
</div>

<div id="athlete-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="close-button" id="close-modal-btn">&times;</button>
        <div class="modal-left">
            <img src="" alt="Foto do Atleta" class="modal-photo" id="modal-photo">
            <h2 class="modal-name" id="modal-name"></h2>
            <p class="modal-position" id="modal-position"></p>
        </div>
        <div class="modal-right">
            <div class="modal-tabs">
                <button class="tab-link active" type="button" data-tab="ficha-tecnica">Ficha Técnica</button>
                <button class="tab-link" type="button" data-tab="desempenho">Desempenho</button>
                <button class="tab-link" type="button" data-tab="carreira-metas">Carreira & Metas</button>
                <button class="tab-link" type="button" data-tab="financeiro">Financeiro</button>
            </div>

            <div id="ficha-tecnica" class="tab-content active">
                <div class="info-grid">
                    <div class="info-item"><label>Nome Completo</label><p id="modal-fullname"></p></div>
                    <div class="info-item"><label>Nascimento</label><p id="modal-birthdate"></p></div>
                    <div class="info-item"><label>Idade</label><p id="modal-age"></p></div>
                    <div class="info-item"><label>Nacionalidade</label><p id="modal-nationality"></p></div>
                    <div class="info-item"><label>Altura</label><p id="modal-height"></p></div>
                    <div class="info-item"><label>Peso</label><p id="modal-weight"></p></div>
                    <div class="info-item"><label>Pé Dominante</label><p id="modal-foot"></p></div>
                </div>
            </div>

            <div id="desempenho" class="tab-content">
                <h3 class="info-section-title">Análise do Último Treino</h3>
                <div class="info-grid">
                    <div class="main-rating-box">
                        <label>Nota Geral do Treino</label>
                        <p><span class="rating-badge" id="modal-treino-nota-geral">0.0</span></p>
                    </div>
                    <div class="sub-rating-grid">
                        <div class="sub-rating-box"><label>Tática</label><p id="modal-treino-nota-tatica"></p></div>
                        <div class="sub-rating-box"><label>Técnica</label><p id="modal-treino-nota-tecnica"></p></div>
                        <div class="sub-rating-box"><label>Físico</label><p id="modal-treino-nota-fisica"></p></div>
                    </div>
                    <div class="info-item-full stats-list">
                        <div class="stat-item"><span class="stat-item-label">Passes</span><span class="stat-item-value" id="modal-treino-passes"></span></div>
                        <div class="stat-bar-container"><div class="stat-bar-fill" id="modal-treino-passes-bar"></div></div>
                    </div>
                    <div class="info-item-full stats-list">
                        <div class="stat-item"><span class="stat-item-label">Chutes a Gol</span><span class="stat-item-value" id="modal-treino-chutes"></span></div>
                        <div class="stat-bar-container"><div class="stat-bar-fill" id="modal-treino-chutes-bar"></div></div>
                    </div>
                    <div class="info-item-full stats-list">
                        <div class="stat-item"><span class="stat-item-label">Dribles</span><span class="stat-item-value" id="modal-treino-dribles"></span></div>
                        <div class="stat-bar-container"><div class="stat-bar-fill" id="modal-treino-dribles-bar"></div></div>
                    </div>
                    <div class="info-item"><label>Desarmes</label><p id="modal-treino-desarmes"></p></div>
                    <div class="info-item"><label>Interceptações</label><p id="modal-treino-interceptacoes"></p></div>
                    <div class="info-item"><label>Dist. Percorrida</label><p id="modal-treino-km"></p></div>
                    <div class="info-item"><label>Vel. Máxima</label><p id="modal-treino-vel-max"></p></div>
                    <div class="info-item"><label>Sprints</label><p id="modal-treino-sprints"></p></div>
                </div>

                <h3 class="info-section-title" style="margin-top: 25px;">Estatísticas (Temporada)</h3>
                <div class="info-grid">
                    <div class="info-item"><label>Jogos</label><p id="modal-games"></p></div>
                    <div class="info-item"><label>Minutos</label><p id="modal-minutes"></p></div>
                    <div class="info-item"><label>Gols</label><p id="modal-goals"></p></div>
                    <div class="info-item"><label>Assistências</label><p id="modal-assists"></p></div>
                    <div class="info-item"><label>Amarelos</label><p id="modal-yellow"></p></div>
                    <div class="info-item"><label>Vermelhos</label><p id="modal-red"></p></div>
                </div>
            </div>

            <div id="carreira-metas" class="tab-content">
                <h3 class="info-section-title">Metas da Temporada (RF014)</h3>
                <ul class="goals-list">
                    <li id="modal-meta-1"></li>
                    <li id="modal-meta-2"></li>
                </ul>
                <h3 class="info-section-title" style="margin-top: 20px;">Observações da Comissão (RF018)</h3>
                <div class="observation-log">
                    <blockquote id="modal-observation"></blockquote>
                    <span>Registrado por: Equipe Técnica</span>
                </div>
            </div>

            <div id="financeiro" class="tab-content">
                <h3 class="info-section-title">Informações de Contrato (RF007)</h3>
                <div class="info-grid">
                    <div class="info-item"><label>Salário</label><p id="modal-salary"></p></div>
                    <div class="info-item info-item-full"><label>Cláusula de Rescisão</label><p id="modal-release-clause"></p></div>
                    <div class="info-item"><label>Início do Contrato</label><p id="modal-contract-start"></p></div>
                    <div class="info-item"><label>Fim do Contrato</label><p id="modal-contract-end"></p></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="add-athlete-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="close-button" id="close-add-modal-btn">&times;</button>

        <form>
            <div class="modal-left">
                <h2 class="modal-name">Novo Atleta</h2>
                <p class="modal-position">Preencha os dados do novo jogador</p>

                <div class="info-item" style="text-align: left; margin-top: 20px;">
                    <label for="add-photo">URL da Foto</label>
                    <input type="text" id="add-photo" placeholder="https://... .jpg">
                </div>
            </div>

            <div class="modal-right">
                <div class="modal-tabs">
                    <button class="tab-link active" type="button" data-tab="add-ficha">Ficha Técnica</button>
                    <button class="tab-link" type="button" data-tab="add-contrato">Financeiro</button>
                </div>

                <div id="add-ficha" class="tab-content active">
                    <fieldset class="form-fieldset">
                        <legend class="form-legend">Dados Pessoais</legend>
                        <div class="info-grid">
                            <div class="info-item info-item-full"><label for="add-fullname">Nome Completo</label><input type="text" id="add-fullname"></div>
                            <div class="info-item"><label for="add-name">Nome Curto (Camisa)</label><input type="text" id="add-name"></div>
                            <div class="info-item"><label for="add-birthdate">Nascimento</label><input type="date" id="add-birthdate" style="padding: 8.5px 15px;"></div>
                            <div class="info-item"><label for="add-nationality">Nacionalidade</label><input type="text" id="add-nationality" value="Brasileiro"></div>
                        </div>
                    </fieldset>
                    <fieldset class="form-fieldset">
                        <legend class="form-legend">Dados Físicos & Técnicos</legend>
                        <div class="info-grid">
                            <div class="info-item"><label for="add-height">Altura</label><input type="text" id="add-height" placeholder="ex: 1,80 m"></div>
                            <div class="info-item"><label for="add-weight">Peso</label><input type="text" id="add-weight" placeholder="ex: 75 kg"></div>
                            <div class="info-item"><label for="add-foot">Pé Dominante</label>
                                <select id="add-foot"><option>Destro</option><option>Canhoto</option><option>Ambidestro</option></select>
                            </div>
                            <div class="info-item"><label for="add-position">Posição</label>
                                <select id="add-position"><option>Goleiro</option><option>Zagueiro</option><option>Lateral</option><option>Meio-Campo</option><option>Atacante</option></select>
                            </div>
                            <div class="info-item"><label for="add-category">Categoria</label>
                                <select id="add-category"><option>Profissional</option><option>Sub-20</option><option>Sub-17</option></select>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <div id="add-contrato" class="tab-content">
                    <fieldset class="form-fieldset">
                        <legend class="form-legend">Contrato</legend>
                        <div class="info-grid">
                            <div class="info-item"><label for="add-salary">Salário (R$)</label><input type="number" step="0.01" id="add-salary" placeholder="50000.00"></div>
                            <div class="info-item info-item-full"><label for="add-release-clause">Cláusula de Rescisão (R$)</label><input type="number" step="0.01" id="add-release-clause" placeholder="10000000.00"></div>
                            <div class="info-item"><label for="add-contract-start">Início do Contrato</label><input type="date" id="add-contract-start" style="padding: 8.5px 15px;"></div>
                            <div class="info-item"><label for="add-contract-end">Fim do Contrato</label><input type="date" id="add-contract-end" style="padding: 8.5px 15px;"></div>
                        </div>
                    </fieldset>
                </div>

                <div style="text-align: right; margin-top: 20px;">
                    <button type="submit" class="btn-primary" onclick="event.preventDefault()">
                        <i class='bx bx-save'></i> Salvar Atleta
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<script th:src="@{/js/atletas.js}"></script>
</body>
</html>